<!DOCTYPE html>
<html lang="en">

<!-- Document head -->
<head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <link rel="shortcut icon" href="img/site-favicon-ipsl.png" type="image/x-icon" />
    <title>IPSL - Prodiguer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS -->
    <link href="app.css" rel="stylesheet" media="screen">
    <link href="ext/bootstrap-3.1.1/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="ext/bootstrap-sortable/bootstrap-sortable.css" rel="stylesheet" media="screen">
</head>

<!-- Document body -->
<body>

    <!-- HTML - Inline page html. -->
    <div>
        <label>Enter group ID: </label>
        <input type="text" id="groupID" value="test_metric_group_01"></div>
    </div>
    <div>
        <button class="btn btn-primary" id="fetch">Fetch</button>
        <button class="btn btn-primary" id="fetchList">Fetch List</button>
        <button class="btn btn-primary" id="fetchCount">Fetch Count</button>
        <button class="btn btn-primary" id="fetchColumns">Fetch Columns</button>
        <button class="btn btn-primary" id="fetchSetup">Fetch Setup</button>
    </div>
    <div>
        <textarea rows=35 cols=120 id="apiResponse">Select an aPI method ... response wil be displayed here</textarea>
    </div>

    <!-- JS - 3rd party libraries -->
    <script src="ext/jquery-2.1.0.min.js"></script>
    <script src="ext/underscore.1.6.0.min.js"></script>
    <script src="ext/backbone.1.1.1.min.js"></script>
    <script src="ext/backbone.1.1.1-options-patch.js"></script>
    <script src="ext/bootstrap-3.1.1/js/bootstrap.min.js"></script>
    <script src="ext/bootstrap-sortable/bootstrap-sortable.js"></script>
    <script src="ext/d3-v3.4.4.min.js"></script>
    <script src="ext/json2.js"></script>

    <!-- JS - Metric API. -->
    <script src="metric/api.proxy.js"></script>

    <!-- JS - Inline page script. -->
    <script type="text/javascript">
        (function ($, api) {

            // ECMAScript 5 Strict Mode
            "use strict";

            // Callback to invoke when a fetch APi operation completes.
            var onFetch = function (data) {
                $("#apiResponse").val(JSON.stringify(data, null, "    "));
            };

            $("#fetch").click(function () {
                api.fetch($("#groupID").val(), false, onFetch);
            });
            $("#fetchList").click(function () {
                api.fetchList(onFetch);
            });
            $("#fetchCount").click(function () {
                api.fetchCount($("#groupID").val(), onFetch);
            });
            $("#fetchColumns").click(function () {
                api.fetchColumns($("#groupID").val(), false, onFetch);
            });
            $("#fetchSetup").click(function () {
                api.fetchSetup($("#groupID").val(), onFetch);
            });

        }(this.$, this.METRIC_API));
    </script>

</body>

</html>
